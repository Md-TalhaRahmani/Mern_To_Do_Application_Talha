{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\talha\\\\OneDrive\\\\Desktop\\\\Talha_To_Do_App\\\\mern-todo-app\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const {\n    user,\n    logout,\n    api\n  } = useContext(AuthContext);\n  const [tasks, setTasks] = useState([]);\n  const [newTask, setNewTask] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  // Add task\n  const addTask = async e => {\n    e.preventDefault();\n    if (!newTask.trim()) return;\n    try {\n      const {\n        data\n      } = await api.post(\"/tasks\", {\n        content: newTask\n      });\n      setTasks([...tasks, data]);\n      setNewTask(\"\");\n    } catch (err) {\n      setError(\"Failed to add task\");\n    }\n  };\n\n  // Toggle task completion\n  const toggleTask = async (id, completed) => {\n    try {\n      const {\n        data\n      } = await api.put(`/tasks/${id}`, {\n        completed: !completed\n      });\n      setTasks(tasks.map(t => t._id === id ? data : t));\n    } catch (err) {\n      setError(\"Failed to update task\");\n    }\n  };\n\n  // Delete task\n  const deleteTask = async id => {\n    try {\n      await api.delete(`/tasks/${id}`);\n      setTasks(tasks.filter(t => t._id !== id));\n    } catch (err) {\n      setError(\"Failed to delete task\");\n    }\n  };\n\n  // Fetch tasks when user logs in\n  useEffect(() => {\n    if (user) {\n      const loadTasks = async () => {\n        try {\n          const {\n            data\n          } = await api.get(\"/tasks\");\n          setTasks(data);\n        } catch (err) {\n          setError(\"Failed to load tasks\");\n        }\n      };\n      loadTasks();\n    }\n  }, [user, api]);\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Welcome to the To-Do App\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Please \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 18\n        }, this), \" or\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/register\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), \" to continue.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Hello, \", user.username, \" \\uD83D\\uDC4B\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: logout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addTask,\n      style: {\n        marginTop: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newTask,\n        onChange: e => setNewTask(e.target.value),\n        placeholder: \"Enter new task\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Task\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        marginTop: \"1rem\"\n      },\n      children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          marginBottom: \"0.5rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            textDecoration: task.completed ? \"line-through\" : \"none\",\n            marginRight: \"1rem\"\n          },\n          children: task.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => toggleTask(task._id, task.completed),\n          children: task.completed ? \"Undo\" : \"Complete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteTask(task._id),\n          style: {\n            marginLeft: \"0.5rem\"\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, task._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"8Z+l/ZNtGHKaMZnAi5OrUDmeCbc=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useContext","useEffect","useState","AuthContext","jsxDEV","_jsxDEV","Home","_s","user","logout","api","tasks","setTasks","newTask","setNewTask","error","setError","addTask","e","preventDefault","trim","data","post","content","err","toggleTask","id","completed","put","map","t","_id","deleteTask","delete","filter","loadTasks","get","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","username","onClick","onSubmit","style","marginTop","type","value","onChange","target","placeholder","required","color","task","marginBottom","textDecoration","marginRight","marginLeft","_c","$RefreshReg$"],"sources":["C:/Users/talha/OneDrive/Desktop/Talha_To_Do_App/mern-todo-app/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nconst Home = () => {\n  const { user, logout, api } = useContext(AuthContext);\n  const [tasks, setTasks] = useState([]);\n  const [newTask, setNewTask] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  // Add task\n  const addTask = async (e) => {\n    e.preventDefault();\n    if (!newTask.trim()) return;\n    try {\n      const { data } = await api.post(\"/tasks\", { content: newTask });\n      setTasks([...tasks, data]);\n      setNewTask(\"\");\n    } catch (err) {\n      setError(\"Failed to add task\");\n    }\n  };\n\n  // Toggle task completion\n  const toggleTask = async (id, completed) => {\n    try {\n      const { data } = await api.put(`/tasks/${id}`, { completed: !completed });\n      setTasks(tasks.map((t) => (t._id === id ? data : t)));\n    } catch (err) {\n      setError(\"Failed to update task\");\n    }\n  };\n\n  // Delete task\n  const deleteTask = async (id) => {\n    try {\n      await api.delete(`/tasks/${id}`);\n      setTasks(tasks.filter((t) => t._id !== id));\n    } catch (err) {\n      setError(\"Failed to delete task\");\n    }\n  };\n\n  // Fetch tasks when user logs in\n  useEffect(() => {\n    if (user) {\n      const loadTasks = async () => {\n        try {\n          const { data } = await api.get(\"/tasks\");\n          setTasks(data);\n        } catch (err) {\n          setError(\"Failed to load tasks\");\n        }\n      };\n      loadTasks();\n    }\n  }, [user, api]);\n\n  if (!user) {\n    return (\n      <div className=\"container\">\n        <h2>Welcome to the To-Do App</h2>\n        <p>\n          Please <a href=\"/login\">Login</a> or{\" \"}\n          <a href=\"/register\">Register</a> to continue.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <h2>Hello, {user.username} ðŸ‘‹</h2>\n      <button onClick={logout}>Logout</button>\n\n      <form onSubmit={addTask} style={{ marginTop: \"1rem\" }}>\n        <input\n          type=\"text\"\n          value={newTask}\n          onChange={(e) => setNewTask(e.target.value)}\n          placeholder=\"Enter new task\"\n          required\n        />\n        <button type=\"submit\">Add Task</button>\n      </form>\n\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n\n      <ul style={{ marginTop: \"1rem\" }}>\n        {tasks.map((task) => (\n          <li key={task._id} style={{ marginBottom: \"0.5rem\" }}>\n            <span\n              style={{\n                textDecoration: task.completed ? \"line-through\" : \"none\",\n                marginRight: \"1rem\",\n              }}\n            >\n              {task.content}\n            </span>\n            <button onClick={() => toggleTask(task._id, task.completed)}>\n              {task.completed ? \"Undo\" : \"Complete\"}\n            </button>\n            <button\n              onClick={() => deleteTask(task._id)}\n              style={{ marginLeft: \"0.5rem\" }}\n            >\n              Delete\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}