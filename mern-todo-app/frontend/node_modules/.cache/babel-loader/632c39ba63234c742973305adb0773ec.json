{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\talha\\\\OneDrive\\\\Desktop\\\\Talha_To_Do_App\\\\mern-todo-app\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const {\n    user,\n    logout,\n    api\n  } = useContext(AuthContext);\n  const [tasks, setTasks] = useState([]);\n  const [newTask, setNewTask] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  // Fetch tasks\n  const fetchTasks = async () => {\n    try {\n      const {\n        data\n      } = await api.get(\"/tasks\");\n      setTasks(data);\n    } catch (err) {\n      setError(\"Failed to load tasks\");\n    }\n  };\n\n  // Add task\n  const addTask = async e => {\n    e.preventDefault();\n    if (!newTask.trim()) return;\n    try {\n      const {\n        data\n      } = await api.post(\"/tasks\", {\n        content: newTask\n      });\n      setTasks([...tasks, data]);\n      setNewTask(\"\");\n    } catch (err) {\n      setError(\"Failed to add task\");\n    }\n  };\n\n  // Toggle task completion\n  const toggleTask = async (id, completed) => {\n    try {\n      const {\n        data\n      } = await api.put(`/tasks/${id}`, {\n        completed: !completed\n      });\n      setTasks(tasks.map(t => t._id === id ? data : t));\n    } catch (err) {\n      setError(\"Failed to update task\");\n    }\n  };\n\n  // Delete task\n  const deleteTask = async id => {\n    try {\n      await api.delete(`/tasks/${id}`);\n      setTasks(tasks.filter(t => t._id !== id));\n    } catch (err) {\n      setError(\"Failed to delete task\");\n    }\n  };\n  useEffect(() => {\n    if (user) fetchTasks();\n  }, [user]);\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Welcome to the To-Do App\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Please \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 19\n        }, this), \" or \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/register\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 49\n        }, this), \" to continue.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Hello, \", user.username, \" \\uD83D\\uDC4B\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: logout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addTask,\n      style: {\n        marginTop: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newTask,\n        onChange: e => setNewTask(e.target.value),\n        placeholder: \"Enter new task\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Task\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        marginTop: \"1rem\"\n      },\n      children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          marginBottom: \"0.5rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            textDecoration: task.completed ? \"line-through\" : \"none\",\n            marginRight: \"1rem\"\n          },\n          children: task.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => toggleTask(task._id, task.completed),\n          children: task.completed ? \"Undo\" : \"Complete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteTask(task._id),\n          style: {\n            marginLeft: \"0.5rem\"\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)]\n      }, task._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"8Z+l/ZNtGHKaMZnAi5OrUDmeCbc=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useContext","useEffect","useState","AuthContext","jsxDEV","_jsxDEV","Home","_s","user","logout","api","tasks","setTasks","newTask","setNewTask","error","setError","fetchTasks","data","get","err","addTask","e","preventDefault","trim","post","content","toggleTask","id","completed","put","map","t","_id","deleteTask","delete","filter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","username","onClick","onSubmit","style","marginTop","type","value","onChange","target","placeholder","required","color","task","marginBottom","textDecoration","marginRight","marginLeft","_c","$RefreshReg$"],"sources":["C:/Users/talha/OneDrive/Desktop/Talha_To_Do_App/mern-todo-app/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nconst Home = () => {\n  const { user, logout, api } = useContext(AuthContext);\n  const [tasks, setTasks] = useState([]);\n  const [newTask, setNewTask] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  // Fetch tasks\n  const fetchTasks = async () => {\n    try {\n      const { data } = await api.get(\"/tasks\");\n      setTasks(data);\n    } catch (err) {\n      setError(\"Failed to load tasks\");\n    }\n  };\n\n  // Add task\n  const addTask = async (e) => {\n    e.preventDefault();\n    if (!newTask.trim()) return;\n    try {\n      const { data } = await api.post(\"/tasks\", { content: newTask });\n      setTasks([...tasks, data]);\n      setNewTask(\"\");\n    } catch (err) {\n      setError(\"Failed to add task\");\n    }\n  };\n\n  // Toggle task completion\n  const toggleTask = async (id, completed) => {\n    try {\n      const { data } = await api.put(`/tasks/${id}`, { completed: !completed });\n      setTasks(tasks.map((t) => (t._id === id ? data : t)));\n    } catch (err) {\n      setError(\"Failed to update task\");\n    }\n  };\n\n  // Delete task\n  const deleteTask = async (id) => {\n    try {\n      await api.delete(`/tasks/${id}`);\n      setTasks(tasks.filter((t) => t._id !== id));\n    } catch (err) {\n      setError(\"Failed to delete task\");\n    }\n  };\n\n  useEffect(() => {\n    if (user) fetchTasks();\n  }, [user]);\n\n  if (!user) {\n    return (\n      <div className=\"container\">\n        <h2>Welcome to the To-Do App</h2>\n        <p>Please <a href=\"/login\">Login</a> or <a href=\"/register\">Register</a> to continue.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <h2>Hello, {user.username} ðŸ‘‹</h2>\n      <button onClick={logout}>Logout</button>\n\n      <form onSubmit={addTask} style={{ marginTop: \"1rem\" }}>\n        <input\n          type=\"text\"\n          value={newTask}\n          onChange={(e) => setNewTask(e.target.value)}\n          placeholder=\"Enter new task\"\n          required\n        />\n        <button type=\"submit\">Add Task</button>\n      </form>\n\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n\n      <ul style={{ marginTop: \"1rem\" }}>\n        {tasks.map((task) => (\n          <li key={task._id} style={{ marginBottom: \"0.5rem\" }}>\n            <span\n              style={{\n                textDecoration: task.completed ? \"line-through\" : \"none\",\n                marginRight: \"1rem\",\n              }}\n            >\n              {task.content}\n            </span>\n            <button onClick={() => toggleTask(task._id, task.completed)}>\n              {task.completed ? \"Undo\" : \"Complete\"}\n            </button>\n            <button onClick={() => deleteTask(task._id)} style={{ marginLeft: \"0.5rem\" }}>\n              Delete\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}